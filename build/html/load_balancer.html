<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>load_balancer module &mdash; FastChat  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="message_patterns module" href="message_patterns.html" />
    <link rel="prev" title="latency_analysis module" href="latency_analysis.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> FastChat
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">FastChat-221BHackerStreet</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="client.html">client module</a></li>
<li class="toctree-l2"><a class="reference internal" href="constants.html">constants module</a></li>
<li class="toctree-l2"><a class="reference internal" href="crypto.html">crypto module</a></li>
<li class="toctree-l2"><a class="reference internal" href="fastchatdb_schema.html">fastchatdb_schema module</a></li>
<li class="toctree-l2"><a class="reference internal" href="keyserver.html">keyserver module</a></li>
<li class="toctree-l2"><a class="reference internal" href="latency_analysis.html">latency_analysis module</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">load_balancer module</a></li>
<li class="toctree-l2"><a class="reference internal" href="message_patterns.html">message_patterns module</a></li>
<li class="toctree-l2"><a class="reference internal" href="multiple_servers.html">multiple_servers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="throughput_analysis.html">throughput_analysis module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utilities.html">utilities module</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">FastChat</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="modules.html">FastChat-221BHackerStreet</a> &raquo;</li>
      <li>load_balancer module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/load_balancer.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-load_balancer">
<span id="load-balancer-module"></span><h1>load_balancer module<a class="headerlink" href="#module-load_balancer" title="Permalink to this headline"></a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="load_balancer.gen_auth_token">
<span class="sig-prename descclassname"><span class="pre">load_balancer.</span></span><span class="sig-name descname"><span class="pre">gen_auth_token</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#load_balancer.gen_auth_token" title="Permalink to this definition"></a></dt>
<dd><p>Generates a random authentication token(int) which will be used for authentication when the client connects to the server. Returns the token</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="load_balancer.get_server_recommendation">
<span class="sig-prename descclassname"><span class="pre">load_balancer.</span></span><span class="sig-name descname"><span class="pre">get_server_recommendation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">choice</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#load_balancer.get_server_recommendation" title="Permalink to this definition"></a></dt>
<dd><p>This function returns the server recommendation based on the currently chosen load balancer strategy. It returns the port number of the server
to which the client should connect from the interval [5001, 5005]</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>choice</strong> (<em>string</em>) – load balancing choice</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="load_balancer.handle_pinging_socket">
<span class="sig-prename descclassname"><span class="pre">load_balancer.</span></span><span class="sig-name descname"><span class="pre">handle_pinging_socket</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sock</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#load_balancer.handle_pinging_socket" title="Permalink to this definition"></a></dt>
<dd><p>This function is meant to handle a pinging server socket from the load balancer’s end. The server socket is expected to be 
sending back that a user has connected/disconnected from it. This is dealt with accordingly and the load balancer updates its local 
variables. The function doesn’t return anything.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sock</strong> (<em>int</em>) – contains token number that was generated</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="load_balancer.hash_port">
<span class="sig-prename descclassname"><span class="pre">load_balancer.</span></span><span class="sig-name descname"><span class="pre">hash_port</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">port</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#load_balancer.hash_port" title="Permalink to this definition"></a></dt>
<dd><p>This is one of the load balancing strategies. It takes the port of the client and hashes it mod 5. It assigns a server based on that.
This strategy is similar to random load balancing, it is expected to assign approximately equal number of users across the servers.
Returns the server number from the interval [1, 5]</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>port</strong> (<em>int</em>) – port number of client</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="load_balancer.num_of_clients">
<span class="sig-prename descclassname"><span class="pre">load_balancer.</span></span><span class="sig-name descname"><span class="pre">num_of_clients</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#load_balancer.num_of_clients" title="Permalink to this definition"></a></dt>
<dd><p>This is one of the load balancing strategies. Number of Clients mantains a global variable corresponding to the number of clients currently 
connected to each of the servers. A new incoming client will go to the server with minimum connected clients. 
Returns the server number from the interval [1, 5]</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="load_balancer.random_server">
<span class="sig-prename descclassname"><span class="pre">load_balancer.</span></span><span class="sig-name descname"><span class="pre">random_server</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#load_balancer.random_server" title="Permalink to this definition"></a></dt>
<dd><p>This is one of the load balancing strategies. It assigns a random server to the client.
This strategy is resilient against most malicious attacks against load balancing strategies.
Returns the server number from the interval [1, 5]</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The assigned server number</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="load_balancer.round_robin">
<span class="sig-prename descclassname"><span class="pre">load_balancer.</span></span><span class="sig-name descname"><span class="pre">round_robin</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#load_balancer.round_robin" title="Permalink to this definition"></a></dt>
<dd><p>This is one of the load balancing strategies. Round robin mantains a global variable corresponding to the last assigned server. 
The next client will go to the next server in a cyclic manner. Returns the server number from the interval [1, 5]</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="load_balancer.send_auth_tokens">
<span class="sig-prename descclassname"><span class="pre">load_balancer.</span></span><span class="sig-name descname"><span class="pre">send_auth_tokens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">server</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#load_balancer.send_auth_tokens" title="Permalink to this definition"></a></dt>
<dd><p>Once the authentication token and the server number have been generated, they are sent to the server and the client via this function.
The function doesn’t return anything</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>token</strong> (<em>int</em>) – contains token number that was generated</p></li>
<li><p><strong>server</strong> (<em>int</em>) – contains server number that was generated</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="latency_analysis.html" class="btn btn-neutral float-left" title="latency_analysis module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="message_patterns.html" class="btn btn-neutral float-right" title="message_patterns module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, 221B-HackerStreet.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>